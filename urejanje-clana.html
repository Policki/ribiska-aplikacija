<!DOCTYPE html>
<html lang="sl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Urejanje ƒçlana ‚Äì RD Mozirje</title>
    <link rel="stylesheet" href="styles.css" />

    <!-- samo za to stran (lahko tudi v styles.css) -->
    <style>
      .page-pad { padding: 12px; width: 100%; }
      .edit-layout {
        display: grid;
        grid-template-columns: 360px 1fr;
        gap: 14px;
        align-items: start;
      }
      @media (max-width: 1100px){
        .edit-layout { grid-template-columns: 1fr; }
      }
      .member-head {
        display:flex;
        align-items: baseline;
        justify-content: space-between;
        gap: 12px;
        margin-bottom: 10px;
      }
      .member-head h2{ margin:0; }
      .pill {
        display:inline-flex;
        align-items:center;
        gap:8px;
        padding:6px 10px;
        border-radius:999px;
        border:2px solid rgba(0,0,0,.12);
        font-weight:900;
        font-size:12px;
        background:#fff;
      }
      .card {
        background:#fff;
        border-radius:14px;
        border:2px solid rgba(11,75,75,.15);
        box-shadow: 0 10px 30px rgba(0,0,0,.08);
        padding: 14px;
      }
      .card-title { font-weight: 900; margin-bottom: 10px; }
      .avatar-drop {
        border: 2px dashed rgba(11,75,75,.35);
        border-radius: 14px;
        padding: 10px;
        text-align:center;
        cursor: pointer;
        user-select:none;
      }
      .avatar-drop:hover { filter: brightness(.98); }
      .avatar-preview {
        width: 220px;
        height: 220px;
        border-radius: 50%;
        overflow: hidden;
        border: 4px solid var(--teal-dark);
        margin: 0 auto 10px auto;
        background:#fff;
      }
      .avatar-preview img { width: 100%; height: 100%; object-fit: cover; }
      .grid-2 {
        display:grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px 14px;
      }
      @media (max-width: 900px){
        .grid-2{ grid-template-columns: 1fr; }
      }
      .small-hint { font-size: 12px; opacity: .75; margin-top: 4px; }
      .actions-row {
        display:flex;
        gap:10px;
        justify-content:flex-end;
        margin-top: 12px;
      }
      .btn-danger {
        background: #e74c3c;
        color:#fff;
      }
    </style>
  </head>

  <body class="page" data-page="urejanje-clana">
    <header class="header header--universal">
      <div class="header-top">
        <div class="header-inner">
          <div class="logo-block">
            <img src="slike/rd-mozirje-bel_small.png" alt="RD Mozirje" class="logo-img" />
          </div>

          <div class="header-right">
            <div class="user-icon">üë§</div>
            <span id="header-username">UPORABNIK</span>
            <button id="btn-logout" class="btn-logout">ODJAVA</button>
          </div>
        </div>
      </div>

      <nav id="app-nav" class="header-nav"></nav>
    </header>

    <main class="main">
      <div class="main-inner full-width">
        <div class="page-pad">
          <div class="member-head">
            <div>
              <h2>Urejanje ƒçlana</h2>
              <div class="small-hint">Uredi podatke, sliko ali status ƒçlana. Obvezna polja so oznaƒçena z *.</div>
            </div>

            <div class="pill">
              <span>ƒålanska:</span> <span id="pill-clanska">‚Äî</span>
            </div>
          </div>

          <form id="urejanje-clana-form">
            <div class="edit-layout">
              <!-- LEFT: AVATAR -->
              <section class="card">
                <div class="card-title">Slika ƒçlana</div>

                <div class="avatar-preview">
                  <img id="avatar-img" src="https://via.placeholder.com/300x300.png?text=CLAN" alt="" />
                </div>

                <div class="avatar-drop" id="avatar-drop">
                  Povleci sliko sem ali klikni za izbiro<br />
                  <span class="small-hint">JPG/PNG/WebP ‚Ä¢ do 2 MB ‚Ä¢ priporoƒçeno 300√ó300</span>
                </div>

                <input id="avatar-input" type="file" accept="image/*" style="display:none;" />

                <div class="chip-row" style="display:flex; gap:10px; margin-top:10px; justify-content:center;">
                  <button type="button" class="btn btn-secondary" id="btn-avatar-remove">Odstrani</button>
                </div>
              </section>

              <!-- RIGHT: FIELDS -->
              <section class="card">
                <div class="card-title">Podatki ƒçlana</div>

                <div class="grid-2">
                  <div class="form-group">
                    <label for="priimek">Priimek *</label>
                    <input id="priimek" name="priimek" type="text" required placeholder="npr. Kranjc" />
                    <div class="small-hint">Samodejno pretvorjeno v velike ƒçrke.</div>
                  </div>

                  <div class="form-group">
                    <label for="ime">Ime *</label>
                    <input id="ime" name="ime" type="text" required placeholder="npr. Miha" />
                  </div>

                  <div class="form-group">
                    <label for="datumRojstva">Datum rojstva</label>
                    <input id="datumRojstva" name="datumRojstva" type="date" />
                  </div>

                  <div class="form-group">
                    <label for="telefon">Telefon</label>
                    <input id="telefon" name="telefon" type="text" placeholder="npr. 041123456" />
                  </div>

                  <div class="form-group" style="grid-column: 1 / -1;">
                    <label for="naslov">Naslov</label>
                    <input id="naslov" name="naslov" type="text" placeholder="Ulica in hi≈°na ≈°tevilka" />
                  </div>

                  <!-- ‚úÖ NEW: ≈†t. po≈°te -->
                  <div class="form-group">
                    <label for="posta">≈†t. po≈°te</label>
                    <input id="posta" name="posta" type="text" inputmode="numeric" placeholder="npr. 3330" maxlength="4" />
                    <div class="small-hint">Ob vnosu 4-mestne po≈°te se lahko kraj samodejno izpolni.</div>
                  </div>

                  <div class="form-group">
                    <label for="kraj">Kraj</label>
                    <input id="kraj" name="kraj" type="text" placeholder="npr. Mozirje" />
                  </div>

                  <div class="form-group">
                    <label for="email">E-mail</label>
                    <input id="email" name="email" type="email" placeholder="npr. ime.priimek@email.com" />
                  </div>

                  <div class="form-group">
                    <label for="status">Status (STAT) *</label>
                    <select id="status" name="status" required>
                      <option value="">Izberi status‚Ä¶</option>
                      <option value="AA">AA ‚Äì polnoletni polnopravni ƒçlan</option>
                      <option value="AM">AM ‚Äì mladinec</option>
                      <option value="AP">AP ‚Äì pripravnik</option>
                      <option value="Aƒå">Aƒå ‚Äì ƒçastni ƒçlan</option>
                      <option value="ZAƒå">ZAƒå ‚Äì zaslu≈æni ƒçastni ƒçlan</option>
                      <option value="A≈†I">A≈†I ‚Äì dijak/≈°tudent z izpitom</option>
                      <option value="DAA">DAA ‚Äì pridru≈æen polnoletni ƒçlan</option>
                      <option value="DAM">DAM ‚Äì pridru≈æen mladinec</option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="spc">SPC (spol) *</label>
                    <select id="spc" name="spc" required>
                      <option value="">Izberi‚Ä¶</option>
                      <option value="M">M</option>
                      <option value="≈Ω">≈Ω</option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="tipKarte">Tip karte</label>
                    <select id="tipKarte" name="tipKarte">
                      <option value="">‚Äî</option>
                      <option value="navadna">Navadna</option>
                      <option value="eLRD">eLRD</option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="datumVpisa">Datum vpisa</label>
                    <input id="datumVpisa" name="datumVpisa" type="date" />
                    <div class="small-hint">Prvi vpis (ne spreminjaj, ƒçe ni potrebno).</div>
                  </div>

                  <div class="form-group">
                    <label for="clanska">ƒålanska ≈°tevilka</label>
                    <input id="clanska" name="clanska" type="text" />
                  </div>
                </div>

                <div class="actions-row">
                  <a href="seznam.html" class="btn btn-secondary">NAZAJ</a>
                  <button type="submit" class="btn btn-primary">SHRANI</button>
                </div>
              </section>
            </div>
          </form>
        </div>
      </div>
    </main>

    <footer class="footer">¬©Enej Poliƒçnik&nbsp;<span id="aktivno-leto"></span></footer>

    <script src="core.js" defer></script>
    <script src="urejanje-clana.js" defer></script>
  </body>
</html>