<!DOCTYPE html>
<html lang="sl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Uporabniki ‚Äì RD Mozirje</title>
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body class="page" data-page="uporabniki">
    <header class="header header--universal">
      <div class="header-top">
        <div class="header-inner">
          <div class="logo-block">
            <img src="slike/rd-mozirje-bel_small.png" alt="RD Mozirje" class="logo-img" />
          </div>

          <div class="header-right">
            <div class="user-icon">üë§</div>
            <span id="header-username">UPORABNIK</span>
            <button id="btn-logout" class="btn-logout">ODJAVA</button>
          </div>
        </div>
      </div>

      <nav id="app-nav" class="header-nav"></nav>
    </header>

    <main class="main">
      <div class="main-inner full-width">
        <div style="padding: 12px 12px 0 12px;">
          <h2 style="margin:0;">Upravljanje uporabnikov</h2>
          <div class="small-hint">Admin dodaja/ureja uporabnike, module, pravice in vidne statuse ƒçlanov.</div>
        </div>

        <div class="users-layout">
          <!-- FORM -->
          <section class="card">
            <div class="card-title" id="form-title">Dodaj uporabnika</div>

            <form id="user-form" autocomplete="off">
              <input type="hidden" id="edit-username" value="" />

              <div class="grid-2">
                <div class="form-group">
                  <label for="username">UPORABNI≈†KO IME</label>
                  <input id="username" name="username" type="text" required placeholder="npr. tajnik" />
                  <div class="small-hint">Brez presledkov. Npr. ‚Äútajnik‚Äù, ‚Äúblagajnik‚Äù, ‚Äúribi≈°kiNadzor‚Äù.</div>
                </div>

                <div class="form-group">
                  <label for="password">ZAƒåASNO GESLO</label>
                  <input id="password" name="password" type="password" required placeholder="‚Äî" />
                  <div class="chip-row">
                    <button type="button" class="chip-btn" id="btn-gen-pass">Generiraj</button>
                    <button type="button" class="chip-btn" id="btn-toggle-pass">Poka≈æi</button>
                    <button type="button" class="chip-btn" id="btn-copy-pass">Kopiraj</button>
                  </div>
                  <div class="small-hint">Uporabnik bo ob prvi prijavi prisiljen spremeniti geslo.</div>
                </div>
              </div>

              <div class="section-title">Vidni statusi ƒçlanov</div>
              <div class="small-hint">ƒåe niƒç ne izbere≈° ‚Üí vidi vse statuse.</div>
              <div class="check-grid" id="status-checks" style="margin-top:8px;"></div>

              <div class="chip-row">
                <button type="button" class="chip-btn" id="status-all">Vsi</button>
                <button type="button" class="chip-btn" id="status-none">Niƒç</button>
                <button type="button" class="chip-btn" id="status-common">Najpogostej≈°i (AA/AM/AP)</button>
              </div>

              <div class="section-title">Moduli, ki jih uporabnik vidi</div>
              <div class="check-grid" id="module-checks"></div>

              <div class="chip-row">
                <button type="button" class="chip-btn primary" id="modules-all">Vsi moduli</button>
                <button type="button" class="chip-btn" id="modules-readonly">Osnovno (seznam + koledar)</button>
                <button type="button" class="chip-btn" id="modules-none">Poƒçisti</button>
              </div>

              <div class="section-title">Pravice uporabnika</div>
              <div class="check-grid">
                <label><input id="canEditMembers" type="checkbox" /> Lahko ureja ƒçlane</label>
                <label><input id="canArchiveMembers" type="checkbox" /> Lahko arhivira / bri≈°e iz arhiva</label>
                <label><input id="canManageUsers" type="checkbox" /> Lahko upravlja uporabnike</label>
                <label><input id="canSeeHistory" type="checkbox" /> Lahko vidi zgodovino dejanj</label>
              </div>

              <div class="chip-row" style="margin-top:12px;">
                <button type="submit" class="btn btn-primary" id="btn-submit">DODAJ UPORABNIKA</button>
                <button type="button" class="btn btn-secondary" id="btn-cancel-edit" style="display:none;">PREKLIƒåI UREJANJE</button>
              </div>
            </form>
          </section>

          <!-- LIST -->
          <section class="card">
            <div class="card-title">Obstojeƒçi uporabniki</div>

            <div class="table-wrapper">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width:60px;">#</th>
                    <th>UPORABNIK</th>
                    <th>MODULI</th>
                    <th>VIDNI STATUSI</th>
                    <th>PRAVICE</th>
                    <th style="width:120px;">ORODJA</th>
                  </tr>
                </thead>
                <tbody id="users-tbody"></tbody>
              </table>
            </div>
          </section>
        </div>
      </div>
    </main>

    <footer class="footer">¬©Enej Poliƒçnik&nbsp;<span id="aktivno-leto"></span></footer>

    <script src="core.js" defer></script>
    <script src="uporabniki.js" defer></script>
  </body>
</html>
